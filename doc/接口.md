# 接口文档
## 登陆
### url
`/login`
### 参数
   参数名  |    类型    |   约束       
:----- :  |   :---:   | :----------  
username  |   字符串   | 5-16个字符    
password  |   字符串   | 密码md5(128位)

### 结果
```json
{
    "result":"success",
    "data":{
        "token":"ABCDEFG"
    }
}
```

```json
{
    "result":"error",
    "data":{
        "err_code": "001"
    }
}
```
错误码请参考 “错误码.md”

## 注册
### url
 `/signUp`
### 参数:

   参数名  |    类型    |   约束       
:----- :  |   :---:   |:----------  
username  |   字符串   |5-16个字符    
password  |   字符串   |密码md5(128位) 
phone     |   字符串   |11-16个字符    
email     |   字符串   |可以不设              

### 结果
同 登陆

## 获取医院列表
### url
 `/hospital/list`
### 参数

   参数名  |    类型    |   约束       
:----- :  |   :---:   | :----------  
region    |   字符串   | 可以不设      

### 结果

```json
{
    "result":"success",
    "data":{
        "hospitals":[
            {"name": "中山医院", "id": 11, "description":"这是一家很好的医院","image":"url/to/image"},
            {"name": "大学城医院", "id": 12, "description":"大学城里唯一一家","image":"url/to/image"}
        ]
    }
}
```
错误结果同 登陆

## 医院详细
### url
 `/hospital/get`
### 参数
   参数名  |    类型    |   约束       
:----- :  |   :---:   |:----------  
id        |   long    |  >0         

### 结果

```json
{
    "result":"success",
    "data":{
        "hospital":{
            "id":1,
            "departments":[
                {"description":"人民医院的内科","id":4,"name":"内科","image":"url/to/image"},
                {"description":"胸外科", "id":1,"name":"外科","image":"url/to/image"}
            ],
            "description":"人民的医院",
            "name":"人民医院"
        }
    }
}
```
错误结果同 登陆

## 科室详情
### url
 `/department/get`
### 参数
   参数名  |    类型    |   约束       
:----- :  |   :---:   |:----------  
id        |   long    |  >0         

###结果

```json
{
    "result":"success",
    "data":{
        "department":{
            "id":1,
            "description":"人民的医院",
            "name":"人民医院"
            "doctors":[
                {"introduction":"好医生","id":4,"name":"王二","image":"url/to/image","title":"二级医生"},
                {"introduction":"那个医生", "id":1,"name":"李四","image":"url/to/image","title":"一级医生"}
            ],
        }
    }
}
```

## 医生详情
### url
 `/doctor/get`
### 参数
   参数名  |    类型    |   约束       
:----- :  |   :---:   |:----------  
id        |   long    |  >0         

###结果

```json
{
    "result":"success",
    "data":{
        "doctor":{
            "id":4,
            "name":"王二",
            "image":"url/to/image",
            "title":"二级医生",
            "capacities":[
                {"slot":"待定","id":4,"total":8,"surplus":6},
                {"slot":"待定", "id":1,"total":10,"surplus":8}
            ],
        }
    }
}
```

## 联系人列表
### url
 `/capacity/list`
### 参数: 无   

###结果

```json
{
    "result":"success",
    "data":{
        "contacts":[
            {"idNo":"430222222222222222", "id":4,"phone":"18898556855","name":"玛丽"},
            {"idNo":"220255555555555555", "id":1,"phone":"18898555555","name":"马谡"}
        ]
    }
}
```



## 下单
### url
`/order/get`
### 参数：capacityID, contactID

   参数名  |    类型    |   约束       
:----- :  |   :---:   |:----------  
capacityID|   long    |  >=0        
contactID |   long    |  >=0        
### 结果：
```json
{
     "result":"success",
}
```
错误结果同 登陆

## 查询订单
### url
`/order/query`
### 参数：无     
### 结果：
```json
{
     "result":"success",
     "data":{
        "orders":[
            {
                "id":5,"createDateTime":"2016-06-06","reserveDateTime":"2016-07-01",
                "hospitalName":"中山一院","departmentName":"牙科","doctorName":"王二",
                "orderStatus":0,
                "contact":{"idNo":"220255555555555555", "id":1,"phone":"18898555555","name":"马谡"}
            }
        ]   
     }
}
```
错误结果同 登陆

## 新增联系人
### url
 `/contact/add`
### 参数

   参数名  |    类型    |   约束       
:----- :  |   :---:   |:----------  
  name    |   String  |  2个以上字符
  idNo    |   String  |  18位  
  phone   |   String  |  11位数字  

### 结果
```json
{
    "result":"success"
}
```

## 修改联系人
### url
 `/contact/update`
### 参数

   参数名  |    类型    |   约束       
:----- :  |   :---:   |:---------  
contactID |   long    |    
  name    |   String  |  2个以上字符
  idNo    |   String  |  18位  
  phone   |   String  |  11位数字  

###结果

```json
{
    "result":"success"
}
```

## 删除联系人
### url
 `/contact/delete`
### 参数

   参数名  |    类型    |   约束       
:----- :  |   :---:   |:---------  
contactID |   long    |    
  
###结果

```json
{
    "result":"success"
}
```

http://localhost:8080/getHospitalByAddress?hospitalAddress_province=河北省&hospitalAddress_city=石家庄&hospitalAddress_area=长安区
http://localhost:8080/addHospital?hospitalName=咳咳&hospitalDes=啊啊啊啊&hospitalAddress_province=河北省&hospitalAddress_city=石家庄&hospitalAddress_area=长安区&hospitalAddress_detail=啦啦啦
http://localhost:8080/updateHospital?hospitalID=16&hospitalName=咳咳&hospitalDes=哒哒哒&hospitalAddress_province=河北省&hospitalAddress_city=石家庄&hospitalAddress_area=长安区&hospitalAddress_detail=啦啦啦